<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <title>Miss√£o Aprova√ß√£o</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
</head>

<body>
    <div id="app">
        <!-- Tela Inicial -->
        <div id="tela-inicial" class="tela ativa">
            <header class="header-principal">
                <div class="ferramentas-topo" style="position: absolute; top: 20px; right: 20px;">
                    <button id="btn-toggle-tema" class="btn-tema" title="Tema Claro/Escuro">üåô</button>
                    <button id="btn-hacker" class="btn-tema" title="Modo Hacker" style="margin-left: 10px;">üëæ</button>
                </div>
                <h1>Miss√£o Aprova√ß√£o</h1>
                <p class="subtitulo">Treino de Elite - Opera√ß√µes Cibern√©ticas</p>
            </header>

            <div class="status-usuario">
                <div class="status-item">
                    <span class="status-label">N√≠vel</span>
                    <span id="nivel-atual" class="status-valor">1</span>
                </div>
                <div class="status-item">
                    <span class="status-label">XP Total</span>
                    <span id="xp-total" class="status-valor">0</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Streak</span>
                    <div class="status-valor"><span id="streak-dias">0</span> dias</div>
                </div>
            </div>

            <div class="progresso-nivel">
                <div class="barra-progresso">
                    <div id="barra-xp" class="barra-xp-preenchida" style="width: 0%"></div>
                </div>
                <p class="texto-progresso">Faltam <span id="xp-proximo">200</span> XP para o pr√≥ximo n√≠vel</p>
            </div>

            <nav class="menu-principal">
                <button class="btn-menu" data-tela="selecao-categoria">üìö Estudo por M√≥dulo</button>
                <button class="btn-menu" data-tela="inicio-simulado">üìù Simulado Completo</button>
                <button class="btn-menu" data-tela="revisao">üîÑ Revis√£o dos Erros</button>
                <button class="btn-menu" data-tela="estatisticas">üìä Meu Progresso</button>
                <!-- Novos m√≥dulos avan√ßados -->
                <button class="btn-menu" id="btn-terminal-avancado">üíª Terminal Avan√ßado</button>
                <button class="btn-menu" id="btn-owasp-zap">üõ°Ô∏è OWASP ZAP</button>
            </nav>
        </div>

        <!-- Sele√ß√£o de Categoria (Estudo) -->
        <div id="selecao-categoria" class="tela">
            <header class="header-secao">
                <button class="btn-voltar">‚Üê Voltar</button>
                <h2>Estudo por M√≥dulo</h2>
            </header>

            <div id="seletor-nivel" class="seletor-nivel">
                <button class="btn-nivel ativo" data-nivel="base">Estudo Base üìö</button>
                <button class="btn-nivel" data-nivel="elite">Tropa de Elite üíÄ</button>
            </div>

            <div class="categorias-grid">
                <!-- Bot√£o Especial de Laborat√≥rio -->
                <button class="btn-lab" id="btn-lab" onclick="iniciarLaboratorio()">
                    <span class="icone">üß™</span>
                    <span class="texto">Laborat√≥rio Pr√°tico</span>
                </button>

                <button class="btn-categoria" data-categoria="redes">üì° Redes de Computadores</button>
                <button class="btn-categoria" data-categoria="protocolos">üåê Protocolos de Comunica√ß√£o</button>
                <button class="btn-categoria" data-categoria="criptografia">üîí No√ß√µes de Criptografia</button>
                <button class="btn-categoria" data-categoria="sistemas">üíª Sistemas Operacionais</button>
                <button class="btn-categoria" data-categoria="ingles">üá∫üá∏ Ingl√™s T√©cnico</button>
                <!-- Nova categoria para estudo de Python com foco em seguran√ßa -->
                <button class="btn-categoria" data-categoria="python">üêç Python (Pareto)</button>
            </div>
        </div>

        <!-- √Årea de Quest√£o (Estudo) -->
        <div id="area-questao" class="tela escondido">
            <header class="header-secao">
                <button class="btn-voltar">‚Üê Voltar</button>
                <h2 id="categoria-atual">Categoria</h2>
            </header>
            <div class="info-questao">
                <span id="numero-questao">Quest√£o 1</span>
            </div>

            <div class="questao-card">
                <p id="enunciado-questao" class="enunciado"></p>
                <div id="alternativas-container" class="alternativas-container"></div>
            </div>

            <div id="feedback-resposta" class="feedback-resposta escondido">
                <div class="feedback-header">
                    <span id="feedback-icone"></span>
                    <strong id="feedback-texto"></strong>
                </div>
                <p id="explicacao-questao" class="explicacao"></p>
                <button id="btn-proxima" class="btn-acao">Pr√≥xima Quest√£o ‚Üí</button>
            </div>
        </div>

        <!-- Simulado: Inicio -->
        <div id="inicio-simulado" class="tela">
            <header class="header-secao">
                <button class="btn-voltar">‚Üê Voltar</button>
                <h2>Simulado Completo</h2>
            </header>
            <div class="card-info">
                <h3>Como funciona?</h3>
                <ul class="lista-info">
                    <li>50 quest√µes aleat√≥rias</li>
                    <li>Mistura de todas as mat√©rias</li>
                    <li>Sem feedback imediato (estilo prova)</li>
                    <li>Resultado e corre√ß√£o no final</li>
                </ul>
                <button id="btn-iniciar-simulado" class="btn-acao">Come√ßar Simulado</button>
            </div>
        </div>

        <!-- Simulado: √Årea de Quest√µes -->
        <div id="area-simulado" class="tela escondido">
            <header class="header-secao">
                <!-- Simulado geralmente n√£o tem bot√£o voltar simples para n√£o perder progresso, mas vamos manter coer√™ncia visual se necess√°rio -->
                <h2 id="categoria-atual-sim">Categoria</h2>
            </header>
            <div class="info-questao">
                <span id="numero-questao-sim">Quest√£o 1 de 50</span>
            </div>
            <div class="questao-card">
                <p id="enunciado-questao-sim" class="enunciado"></p>
                <div id="alternativas-container-sim" class="alternativas-container"></div>
            </div>
            <button id="btn-responder-sim" class="btn-acao escondido">Confirmar Resposta</button>
        </div>

        <!-- Simulado: Resultado -->
        <div id="resultado-simulado" class="tela escondido">
            <header class="header-secao">
                <button class="btn-voltar">‚Üê Voltar ao In√≠cio</button>
                <h2>Resultado</h2>
            </header>
            <div class="resultado-simulado">
                <h3>Sua Nota</h3>
                <div class="nota-final">
                    <span class="nota-label">Aproveitamento</span>
                    <span id="nota-simulado" class="nota-valor">0%</span>
                </div>

                <div id="acertos-categoria" class="acertos-categoria"></div>
                <div id="erros-detalhados" class="erros-detalhados"></div>

                <button id="btn-novo-simulado" class="btn-acao">Novo Simulado</button>
            </div>
        </div>

        <!-- Revis√£o -->
        <div id="revisao" class="tela">
            <header class="header-secao">
                <button class="btn-voltar">‚Üê Voltar</button>
                <h2>Revis√£o Inteligente</h2>
            </header>
            <div id="lista-erros" class="lista-erros">
                <!-- Lista injetada via JS -->
            </div>
        </div>

        <!-- √Årea de quest√£o de revis√£o (Top Level) -->
        <div id="area-revisao" class="tela">
            <div class="header-secao">
                <button class="btn-voltar" onclick="mostrarTela('revisao')">‚Üê Voltar para Lista</button>
            </div>
            <div class="questao-card">
                <p class="subtitulo" id="categoria-atual-rev"></p>
                <h3 id="numero-questao-rev"></h3>
                <p id="enunciado-questao-rev" class="enunciado"></p>
                <div id="alternativas-container-rev" class="alternativas-container"></div>
            </div>

            <div id="feedback-resposta-rev" class="feedback-resposta escondido">
                <div class="feedback-header">
                    <span id="feedback-icone-rev"></span>
                    <strong id="feedback-texto-rev"></strong>
                </div>
                <p id="explicacao-questao-rev" class="explicacao"></p>
                <button id="btn-proxima-rev" class="btn-acao">Pr√≥xima Quest√£o na Lista</button>
            </div>
        </div>

        <!-- Estat√≠sticas -->
        <div id="estatisticas" class="tela">
            <header class="header-secao">
                <button class="btn-voltar">‚Üê Voltar</button>
                <h2>Estat√≠sticas</h2>
            </header>
            <div class="estatisticas-container">
                <div class="stats-geral">
                    <h3>Vis√£o Geral</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span id="stat-xp" class="stat-valor">0</span>
                            <span class="stat-label">XP Total</span>
                        </div>
                        <div class="stat-item">
                            <span id="stat-nivel" class="stat-valor">1</span>
                            <span class="stat-label">N√≠vel</span>
                        </div>
                        <div class="stat-item">
                            <span id="stat-streak" class="stat-valor">0</span>
                            <span class="stat-label">Dias Streak</span>
                        </div>
                        <div class="stat-item">
                            <span id="stat-questoes" class="stat-valor">0</span>
                            <span class="stat-label">Quest√µes</span>
                        </div>
                        <div class="stat-item">
                            <span id="stat-simulados" class="stat-valor">0</span>
                            <span class="stat-label">Simulados</span>
                        </div>
                    </div>
                </div>

                <div id="seletor-nivel" class="seletor-nivel">
                    <button class="btn-nivel ativo" data-nivel="base">Estudo Base üìö</button>
                    <button class="btn-nivel" data-nivel="elite">Tropa de Elite üíÄ</button>
                </div>

                <div class="grade-categorias">
                    <!-- Bot√£o Especial de Laborat√≥rio -->
                    <button class="btn-lab" id="btn-lab-stats" onclick="iniciarLaboratorio()">
                        <span class="icone">üß™</span>
                        <span class="texto">Laborat√≥rio Pr√°tico</span>
                    </button>

                    <div class="stats-categoria">
                        <h3>Desempenho por Mat√©ria</h3>
                        <div id="desempenho-categorias" class="desempenho-categorias"></div>
                    </div>

                    <div class="badges-container">
                        <h3>Conquistas</h3>
                        <div id="badges-lista" class="badges-grid"></div>
                    </div>
                </div>
            </div>

            <!-- √Årea Pr√°tica (Terminal) -->
            <div id="area-pratica" class="tela escondido">
                <header class="header-secao" style="background: #000; border-bottom: 1px solid #33ff33;">
                    <button class="btn-voltar" style="color: #33ff33; border-color: #33ff33;">‚Üê Encerrar Sess√£o</button>
                    <h2 style="color: #33ff33; font-family: 'Courier New', monospace;">TERMINAL v2.0</h2>
                </header>

                <div class="terminal-container">
                    <div id="cenario-atual-desc" class="terminal-info">
                        <!-- Descri√ß√£o injetada via JS -->
                    </div>
     
                    <div id="terminal-body" class="terminal-body">
     
            
    
<div class="linha-output">Welcome to COPYCIBER OS v2.0</div>
                        <div class="linha-output">Initializing secure environment...</div>
                        <div class="linha-output">Access Granted.</div>

                        <div class="linha-input">
                            <span class="prompt">root@kali:~#</span>
                            <input type="text" id="input-comando" autocomplete="off" spellcheck="false" autofocus>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CORE LOGIC -->

                <script>
    (async function() {
      try {
        const [dataText, appText] = await Promise.all([
          fetch('data.js?v=2.2').then(r => r.text()),
          fetch('app.js?v=2.2').then(r => r.text()),
        ]);
        eval(dataText);
        eval(appText);
        document.dispatchEvent(new Event('DOMContentLoaded'));
      } catch (e) {
        console.error('Failed to load scripts', e);
      }
    })();
    </script>
    <script>
      // Force cleanup of old service workers
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function (registrations) {
          for (let registration of registrations) {
            registration.unregister();
          }
        });
      }
    </script>

            <script>
                // Force cleanup of old service workers
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(function (registrations) {
                        for (let registration of registrations) {
                            registration.unregister();
                        }
                    });
                }
            </script>
</body>

</html>
